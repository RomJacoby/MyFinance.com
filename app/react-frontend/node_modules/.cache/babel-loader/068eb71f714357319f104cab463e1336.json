{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\Rom\\\\Project\\\\app\\\\react-frontend\\\\src\\\\Components\\\\StockList.js\";\nimport axios from \"axios\";\nimport React, { Component } from 'react';\nimport { Row, Card, CardDeck } from \"react-bootstrap\";\nimport Plot from 'react-plotly.js';\nexport default class StockList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      stocks: [],\n      colorArr: [\"#B22222\", \"#20B2AA\", \"#FFA500\", \"#87CEEB\", \"#483D8B\", \"#000000\", \"#556B2F\"],\n      datesArr: [],\n      valuesArr: [],\n      stockName: \"\"\n    };\n  }\n\n  create_body() {\n    var body = [];\n    return body = this.state.stocks.map(stock => {\n      var str = String(stock);\n      var responseArr = str.split(\",\");\n      var i = 0;\n      var isDate = true;\n\n      for (i = 0; i < responseArr.length; i++) {\n        if (i == 0) {\n          this.setState({\n            stockName: responseArr[i]\n          });\n        } else if (responseArr[i] === \"NowValues\") {\n          isDate = false;\n        } else if (isDate == true) {\n          this.setState(state => {\n            state.datesArr.push(responseArr[i]);\n            return {\n              datesArr: state.datesArr\n            };\n          });\n        } else if (isDate == false) {\n          this.setState(state => {\n            state.valuesArr.push(responseArr[i]);\n            return {\n              valuesArr: state.valuesArr\n            };\n          });\n        }\n      }\n\n      var i = 0;\n      var datesArr2 = this.state.datesArr;\n      datesArr2.forEach(date => {\n        var parts = String(date).split('/');\n        datesArr2[i] = new Date(parts[0], parts[1] - 1, parts[2]);\n        i++;\n      });\n      this.setState({\n        datesArr: datesArr2\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        border: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 48\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        style: {\n          textAlign: \"Center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 59\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        style: {\n          fontSize: \"1.5em\",\n          position: \"absolute\",\n          left: \"9%\",\n          top: \"3%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 100\n        }\n      }, \"edit\"), this.state.stockName), /*#__PURE__*/React.createElement(Plot, {\n        data: [{\n          x: this.state.datesArr,\n          y: this.state.valuesArr,\n          fill: \"tonexty\",\n          type: 'line',\n          line: {\n            color: this.getRandomColor()\n          }\n        }],\n        layout: {\n          plot_bgcolor: '#FAF0E6',\n          margin: {\n            l: \"30\",\n            r: \"30\",\n            t: \"5\",\n            b: \"30\"\n          },\n          width: 496,\n          height: 400\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 239\n        }\n      }))));\n    });\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/get_all_stocks').then(res => {\n      var stocks_arr = [];\n      Object.keys(res.data).forEach(k => {\n        stocks_arr.push(res.data[k]);\n      });\n      this.setState({\n        stocks: stocks_arr\n      });\n    });\n    body = this.create_body();\n  }\n\n  getRandomColor() {\n    var i = Math.floor(Math.random() * this.state.colorArr.length);\n    var randomColor = this.state.colorArr[i];\n    this.setState(state => {\n      state.colorArr.splice(i, 1);\n      return {\n        colorArr: state.colorArr\n      };\n    });\n    return randomColor;\n  }\n  /*create_body(){\r\n      var body = []\r\n      return body = this.state.stocks.map( stock => {\r\n          var str = String(stock)\r\n          var responseArr = str.split(\",\")\r\n          var i = 0\r\n          var isDate = true\r\n          \r\n          for (i=0;i<responseArr.length;i++){\r\n              if (i == 0){this.setState({stockName:responseArr[i]})}\r\n              else if ( responseArr[i] === \"NowValues\" ){ isDate = false }   \r\n              else if ( isDate == true )\r\n              {\r\n                  this.setState((state) => {\r\n                      state.datesArr.push(responseArr[i])\r\n                      return {datesArr:state.datesArr} \r\n                  })\r\n              }\r\n              else if (isDate == false)\r\n              {\r\n                  this.setState((state) => {\r\n                      state.valuesArr.push(responseArr[i])\r\n                      return {valuesArr:state.valuesArr} \r\n                  })\r\n              }\r\n          }\r\n          \r\n          var i = 0\r\n          var datesArr2 = this.state.datesArr\r\n          datesArr2.forEach(date => { \r\n              var parts = String(date).split('/');\r\n              datesArr2[i] = new Date(parts[0],parts[1] - 1,parts[2]);\r\n              i++;\r\n          });\r\n          this.setState({datesArr:datesArr2})\r\n          return(\r\n              <div ><Card border=\"secondary\"><Card.Body><Card.Title style={{textAlign:\"Center\"}}><i className=\"material-icons\" style={{fontSize:\"1.5em\",position:\"absolute\",left:\"9%\",top:\"3%\"}}>edit</i>{this.state.stockName}</Card.Title><Plot\r\n                  data={[\r\n                  {\r\n                      x: this.state.datesArr,\r\n                      y: this.state.valuesArr,\r\n                      fill: \"tonexty\",\r\n                      type: 'line',\r\n                      line:{color:this.getRandomColor()}\r\n                      \r\n                  }\r\n                  ]}\r\n                  layout={ {plot_bgcolor:'#FAF0E6',margin:{l:\"30\",r :\"30\",t:\"5\",b:\"30\"},width:496,height:400}}/>\r\n                  </Card.Body></Card>\r\n              </div>\r\n          )\r\n      })\r\n  }*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardDeck, {\n      style: {\n        margin: \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 22\n      }\n    }, body));\n  }\n\n}","map":{"version":3,"sources":["C:/Program Files/Rom/Project/app/react-frontend/src/Components/StockList.js"],"names":["axios","React","Component","Row","Card","CardDeck","Plot","StockList","constructor","state","stocks","colorArr","datesArr","valuesArr","stockName","create_body","body","map","stock","str","String","responseArr","split","i","isDate","length","setState","push","datesArr2","forEach","date","parts","Date","textAlign","fontSize","position","left","top","x","y","fill","type","line","color","getRandomColor","plot_bgcolor","margin","l","r","t","b","width","height","componentDidMount","get","then","res","stocks_arr","Object","keys","data","k","Math","floor","random","randomColor","splice","render"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport React, {Component} from 'react'\r\nimport { Row,Card,CardDeck } from \"react-bootstrap\";\r\nimport Plot from 'react-plotly.js';\r\n\r\nexport default class StockList extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            stocks:[],\r\n            colorArr:[\"#B22222\",\"#20B2AA\",\"#FFA500\",\"#87CEEB\",\"#483D8B\",\"#000000\",\"#556B2F\"],\r\n            datesArr:[],\r\n            valuesArr:[],\r\n            stockName:\"\"\r\n        }\r\n    };\r\n\r\n    create_body(){\r\n        var body = []\r\n        return body = this.state.stocks.map( stock => {\r\n            var str = String(stock)\r\n            var responseArr = str.split(\",\")\r\n            var i = 0\r\n            var isDate = true\r\n            \r\n            for (i=0;i<responseArr.length;i++){\r\n                if (i == 0){this.setState({stockName:responseArr[i]})}\r\n                else if ( responseArr[i] === \"NowValues\" ){ isDate = false }   \r\n                else if ( isDate == true )\r\n                {\r\n                    this.setState((state) => {\r\n                        state.datesArr.push(responseArr[i])\r\n                        return {datesArr:state.datesArr} \r\n                    })\r\n                }\r\n                else if (isDate == false)\r\n                {\r\n                    this.setState((state) => {\r\n                        state.valuesArr.push(responseArr[i])\r\n                        return {valuesArr:state.valuesArr} \r\n                    })\r\n                }\r\n            }\r\n            \r\n            var i = 0\r\n            var datesArr2 = this.state.datesArr\r\n            datesArr2.forEach(date => { \r\n                var parts = String(date).split('/');\r\n                datesArr2[i] = new Date(parts[0],parts[1] - 1,parts[2]);\r\n                i++;\r\n            });\r\n            this.setState({datesArr:datesArr2})\r\n            return(\r\n                <div ><Card border=\"secondary\"><Card.Body><Card.Title style={{textAlign:\"Center\"}}><i className=\"material-icons\" style={{fontSize:\"1.5em\",position:\"absolute\",left:\"9%\",top:\"3%\"}}>edit</i>{this.state.stockName}</Card.Title><Plot\r\n                    data={[\r\n                    {\r\n                        x: this.state.datesArr,\r\n                        y: this.state.valuesArr,\r\n                        fill: \"tonexty\",\r\n                        type: 'line',\r\n                        line:{color:this.getRandomColor()}\r\n                        \r\n                    }\r\n                    ]}\r\n                    layout={ {plot_bgcolor:'#FAF0E6',margin:{l:\"30\",r :\"30\",t:\"5\",b:\"30\"},width:496,height:400}}/>\r\n                    </Card.Body></Card>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n    \r\n    componentDidMount(){\r\n        axios.get('http://localhost:5000/get_all_stocks')\r\n        .then( res => {\r\n            var stocks_arr = []\r\n            Object.keys(res.data).forEach(k => {\r\n                stocks_arr.push(res.data[k])\r\n            })\r\n            this.setState({stocks:stocks_arr})\r\n        })     \r\n        body = this.create_body()\r\n    }\r\n    \r\n    getRandomColor() {\r\n        var i = Math.floor(Math.random()*this.state.colorArr.length)\r\n        var randomColor = this.state.colorArr[i];\r\n        this.setState((state) => {\r\n            state.colorArr.splice(i,1)\r\n            return {colorArr:state.colorArr}\r\n        })\r\n        return randomColor;\r\n    }\r\n    \r\n    /*create_body(){\r\n        var body = []\r\n        return body = this.state.stocks.map( stock => {\r\n            var str = String(stock)\r\n            var responseArr = str.split(\",\")\r\n            var i = 0\r\n            var isDate = true\r\n            \r\n            for (i=0;i<responseArr.length;i++){\r\n                if (i == 0){this.setState({stockName:responseArr[i]})}\r\n                else if ( responseArr[i] === \"NowValues\" ){ isDate = false }   \r\n                else if ( isDate == true )\r\n                {\r\n                    this.setState((state) => {\r\n                        state.datesArr.push(responseArr[i])\r\n                        return {datesArr:state.datesArr} \r\n                    })\r\n                }\r\n                else if (isDate == false)\r\n                {\r\n                    this.setState((state) => {\r\n                        state.valuesArr.push(responseArr[i])\r\n                        return {valuesArr:state.valuesArr} \r\n                    })\r\n                }\r\n            }\r\n            \r\n            var i = 0\r\n            var datesArr2 = this.state.datesArr\r\n            datesArr2.forEach(date => { \r\n                var parts = String(date).split('/');\r\n                datesArr2[i] = new Date(parts[0],parts[1] - 1,parts[2]);\r\n                i++;\r\n            });\r\n            this.setState({datesArr:datesArr2})\r\n            return(\r\n                <div ><Card border=\"secondary\"><Card.Body><Card.Title style={{textAlign:\"Center\"}}><i className=\"material-icons\" style={{fontSize:\"1.5em\",position:\"absolute\",left:\"9%\",top:\"3%\"}}>edit</i>{this.state.stockName}</Card.Title><Plot\r\n                    data={[\r\n                    {\r\n                        x: this.state.datesArr,\r\n                        y: this.state.valuesArr,\r\n                        fill: \"tonexty\",\r\n                        type: 'line',\r\n                        line:{color:this.getRandomColor()}\r\n                        \r\n                    }\r\n                    ]}\r\n                    layout={ {plot_bgcolor:'#FAF0E6',margin:{l:\"30\",r :\"30\",t:\"5\",b:\"30\"},width:496,height:400}}/>\r\n                    </Card.Body></Card>\r\n                </div>\r\n            )\r\n        })\r\n    }*/\r\n    \r\n    render(){ \r\n        return (<div><CardDeck style={{margin:\"5%\"}}>{body}</CardDeck></div>)\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}